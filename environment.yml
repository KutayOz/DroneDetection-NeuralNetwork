# Hunter Drone Detection & Tracking System
# Conda environment configuration
#
# Create environment:
#   conda env create -f environment.yml
#
# Activate:
#   conda activate hunter-drone
#
# Update:
#   conda env update -f environment.yml --prune

name: hunter-drone

channels:
  - pytorch
  - nvidia
  - conda-forge
  - defaults

dependencies:
  # Python version - CRITICAL: 3.10.12 ONLY
  - python=3.10.12

  # CUDA toolkit
  - cudatoolkit=11.8
  - cudnn=8.6

  # PyTorch with CUDA
  - pytorch>=2.0.0,<2.3.0
  - torchvision>=0.15.0,<0.18.0
  - pytorch-cuda=11.8

  # Scientific computing
  - numpy>=1.24.0,<2.0.0
  - scipy>=1.11.0,<1.13.0

  # OpenCV
  - opencv>=4.8.0,<4.10.0

  # Configuration
  - pyyaml>=6.0,<7.0

  # Build tools
  - pip
  - setuptools
  - wheel
  - cmake

  # Development tools
  - git

  # Pip dependencies (not available in conda)
  - pip:
      # YOLO detector
      - ultralytics>=8.1.0,<8.4.0

      # ONNX runtime
      - onnxruntime-gpu>=1.16.0,<1.18.0

      # Kalman filtering (requires numpy<2.0)
      - filterpy>=1.4.5,<1.5.0

      # Pydantic
      - pydantic>=2.0.0,<3.0.0
      - pydantic-settings>=2.0.0,<3.0.0

      # Logging
      - structlog>=23.0.0,<25.0.0

      # Dependency injection
      - dependency-injector>=4.41.0,<5.0.0

      # Development (optional, uncomment if needed)
      # - pytest>=7.4.0,<8.0.0
      # - pytest-cov>=4.1.0,<5.0.0
      # - pytest-benchmark>=4.0.0,<5.0.0
      # - black>=23.0.0,<24.0.0
      # - isort>=5.12.0,<6.0.0
      # - ruff>=0.1.0,<0.2.0
      # - mypy>=1.5.0,<2.0.0

      # Training (optional, uncomment if needed)
      # - tensorboard>=2.14.0,<3.0.0
      # - mlflow>=2.7.0,<3.0.0
      # - albumentations>=1.3.0,<2.0.0
      # - wandb>=0.15.0,<1.0.0

# Environment variables
variables:
  CUDA_HOME: $CONDA_PREFIX
  HUNTER_ENV: conda
